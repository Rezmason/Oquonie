<!DOCTYPE html>
<html>
  <head>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <!-- <script type="text/javascript" src="scripts/jquery.js"></script> -->
    <script type="text/javascript" src="scripts/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.transit.min.js"></script>
    <script type="text/javascript" src="scripts/logo.js"></script>

    <script type="text/javascript" src="scripts/core/oquonie.js"></script>
    <script type="text/javascript" src="scripts/core/dialog.js"></script>
    <script type="text/javascript" src="scripts/core/overlay.js"></script>
    <script type="text/javascript" src="scripts/core/interface.js"></script>
    <script type="text/javascript" src="scripts/core/stage.js"></script>
    <script type="text/javascript" src="scripts/core/animator.js"></script>
    <script type="text/javascript" src="scripts/core/animation.js"></script>
    <script type="text/javascript" src="scripts/core/spellbook.js"></script>
    <script type="text/javascript" src="scripts/core/game.js"></script>
    <script type="text/javascript" src="scripts/core/music.js"></script>
    <script type="text/javascript" src="scripts/core/artbook.js"></script>

    <script type="text/javascript" src="scripts/core/world.js"></script>

    <script type="text/javascript" src="scripts/core/tile.js"></script>
    <script type="text/javascript" src="scripts/core/event.js"></script>
    <script type="text/javascript" src="scripts/core/floor.js"></script>
    <script type="text/javascript" src="scripts/core/wall.js"></script>
    <script type="text/javascript" src="scripts/core/room.js"></script>
    <script type="text/javascript" src="scripts/core/step.js"></script>
    <script type="text/javascript" src="scripts/core/sprite.js"></script>

    <script type="text/javascript" src="scripts/event/blocker.js"></script>
    <script type="text/javascript" src="scripts/event/door.js"></script>
    <script type="text/javascript" src="scripts/event/settingsdoor.js"></script>
    <script type="text/javascript" src="scripts/event/pillar.js"></script>
    <script type="text/javascript" src="scripts/event/pillarbase.js"></script>
    <script type="text/javascript" src="scripts/event/ramen.js"></script>
    <script type="text/javascript" src="scripts/event/player.js"></script>
    <script type="text/javascript" src="scripts/event/plan.js"></script>
    <script type="text/javascript" src="scripts/event/gate.js"></script>
    <script type="text/javascript" src="scripts/event/owl.js"></script>
    <script type="text/javascript" src="scripts/event/speaker.js"></script>
    <script type="text/javascript" src="scripts/event/shark.js"></script>
    <script type="text/javascript" src="scripts/event/tree.js"></script>
    <script type="text/javascript" src="scripts/event/noface.js"></script>
    <script type="text/javascript" src="scripts/event/wizard.js"></script>
    <script type="text/javascript" src="scripts/event/teleport.js"></script>
    <script type="text/javascript" src="scripts/event/credit.js"></script>
    <script type="text/javascript" src="scripts/event/red.js"></script>
    <script type="text/javascript" src="scripts/event/petunia.js"></script>
    <script type="text/javascript" src="scripts/event/boss.js"></script>
    <script type="text/javascript" src="scripts/event/ghost.js"></script>
    <script type="text/javascript" src="scripts/event/shadow.js"></script>
    <script type="text/javascript" src="scripts/event/hiversaires.js"></script>
    <script type="text/javascript" src="scripts/event/broken.js"></script>
    <script type="text/javascript" src="scripts/event/pillargate.js"></script>
    <script type="text/javascript" src="scripts/event/cameo.js"></script>

    <script type="text/javascript" src="scripts/core/keyboard.js"></script>
    <script type="text/javascript" src="scripts/core/walkthrough.js"></script>

    <link rel="stylesheet" type="text/css" href="links/reset.css"/>
    <link rel="stylesheet" type="text/css" href="links/fonts.css"/>
    <link rel="stylesheet" type="text/css" href="links/main.css"/>
    <title>Oquonie</title>
  </head>
  <body>
    <div id='splash' style='position:fixed; top:0px; left:0px; width:100%; height:100%; background:black; z-index: 9999; display:block'>
      <div id='logo' style='width:120px;height:120px; margin:25vh auto'></div>
    </div>
    <script>

      var DEBUG = false;

      var oquonie = new Oquonie();
      
      oquonie.install();
      
      var keyboard = new Keyboard();
      document.onkeyup = function(event){ keyboard.listen_onkeyup(event); };
      document.onkeydown = function(event){ keyboard.listen_onkeydown(event); };
      document.addEventListener('mousedown', function(e){ oquonie.mousedown(e); }, false);

      var logo = new Logo(document.getElementById("logo"));

      setTimeout(function(){ logo.install(); }, 1500);
      setTimeout(function(){ oquonie.start(); }, DEBUG ? 100 : 7000);

      $("#splash").delay(DEBUG ? 100 : 7500).animate({ opacity: 0 }, 1000,function(){
        $(logo.element).remove();
      }); 

    </script>
  </body>
</html>
